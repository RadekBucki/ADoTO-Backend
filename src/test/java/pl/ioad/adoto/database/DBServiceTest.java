package pl.ioad.adoto.database;

import org.json.JSONArray;
import org.json.JSONException;
import org.json.JSONObject;
import org.junit.jupiter.api.Test;
import org.springframework.beans.factory.annotation.Autowired;
import org.springframework.boot.test.context.SpringBootTest;
import pl.ioad.adoto.backend.ai.logic.controller.AiController;
import pl.ioad.adoto.backend.ai.logic.service.AiService;
import pl.ioad.adoto.communication.ai.model.AiResult;
import pl.ioad.adoto.database.dto.TopObjectDTO;
import pl.ioad.adoto.database.entity.EntitiesType;

import java.util.ArrayList;
import java.util.List;

import static org.junit.jupiter.api.Assertions.*;

@SpringBootTest
class DBServiceTest {

    @Autowired
    DBService dbService;

    @Autowired
    AiService aiService;

    @Test
    void findAllInBoundingBox1() {
        List<TopObjectDTO> buildings =
                dbService.findAllInBoundingBoxWithCRS84(EntitiesType.HOUSE, 19.450633, 51.748096,19.456443, 51.744854);
        assertEquals(48, buildings.size());
    }
    @Test
    void findAllInBoundingBox2() {
        List<TopObjectDTO> buildings =
                dbService.findAllInBoundingBoxWithEPSG2180(EntitiesType.HOUSE, 531094.4, 431346.7 , 531497.8,431055.4);
        assertEquals(43, buildings.size());
    }


    @Test
    void savePredictionRoads() throws JSONException {
        var json = new JSONArray("[{X:[40,39,36,36,37,37,38,41,42,42]," +
                "Y:[236,238,238,240,242,244,243,242,240,238]}," +
                "{X:[10,10,11,14,16,15],Y:[232,234,234,235,234,232]}," +
                "{X:[251,248,243,238,234,229,226,218,211,203,198,191,188,186,182,181,180,186,189,192,224,226,239,244,247,253,254,255]," +
                "Y:[172,173,174,176,177,178,179,180,181,182,183,184,185,186,188,190,194,196,197,198,199,199,198,197,196,194,192,172]}," +
                "{X:[243,241,237,236,240,241,242,241,242,243,245,247,247,248,249,252,251,249,248]," +
                "Y:[103,104,111,113,119,121,123,126,128,126,125,124,122,120,119,110,106,105,104]}," +
                "{X:[238,237,237,239,242,243,244,240],Y:[68,70,72,73,74,72,70,68]}," +
                "{X:[154,153,152,152,153,158,159,160,162,164,166,169,171,171,169,169,169,170,172,177,180,186,189,190,190,189,187,186,182,186,188,191,193,196,194,187,167,164,163,162,162,163,162]," +
                "Y:[42,44,45,47,50,52,54,58,59,59,62,64,65,67,68,70,72,75,76,78,80,82,81,78,76,73,68,66,65,64,63,62,61,57,54,56,55,54,56,54,52,46,42]},{X:[52,50,48,45,44,42,41,40,39,38,37,36,34,34,34,34,33,33,33,34,33,32,31,30,29,28,27,27,26,24,22,21,17,12,11,10,7,4,0,2,4,7,10,12,23,27,35,39,41,44,45,46,47,47,47,47,49,50,50,51,53,59,61,71,82,85,93,105,109,114,121,123,127,129,133,136,139,141,142,141,140,138,139,140,141,142,143,144,146,148,149,150,152,154,159,160,162,167,168,173,174,175,176,177,178,179,181,183,184,185,184,175,171,157,155,154,153,147,141,140,139,138,136,135,132,130,129,128,126,123,122,121,120,119,119,118,118,118,117,116,115,114,113,112,110,108,106,104,101,97,95,91,86,73,70,66,59,54,49,47,41,38,37,38,39,41,42,43,44,48,49,50,51,53,56,58,60,63,66,68,70,73,74,73,72,73,72,71,72,72,72,73,73,73,73,74,81,82,83,84,83,82]," +
                "Y:[42,43,44,48,49,50,52,53,55,57,67,71,77,79,81,83,106,108,110,115,119,125,131,135,137,141,143,145,147,150,155,157,160,162,164,165,166,168,217,217,218,217,218,217,216,217,218,219,222,223,225,227,228,230,232,233,234,228,226,224,220,218,217,218,217,218,217,216,214,213,214,213,212,211,208,206,204,201,192,190,188,187,183,180,177,175,173,171,170,169,167,165,161,158,152,151,148,144,142,136,134,132,130,128,126,124,118,115,113,111,104,105,106,107,108,109,111,116,123,125,127,129,130,132,133,134,136,137,138,140,142,144,146,148,150,156,158,160,168,171,173,175,178,180,181,182,185,186,188,190,191,192,193,194,195,196,197,196,194,193,192,188,185,182,180,177,175,173,171,165,163,158,156,153,149,148,147,146,144,141,138,136,132,119,111,106,98,95,85,83,81,78,76,74,72,70,62,61,59,50,44,42]}]");
        List<List<Double>> XS = new ArrayList<>();
        List<List<Double>> YS = new ArrayList<>();
        for (int i = 0; i < json.length(); i++) {
            List<Double> x = new ArrayList<>();
            List<Double> y = new ArrayList<>();
            for (int j = 0; j < json.getJSONObject(i).getJSONArray("X").length(); j++) {
                x.add(json.getJSONObject(i).getJSONArray("X").getDouble(j));
                y.add(json.getJSONObject(i).getJSONArray("Y").getDouble(j));
            }
            XS.add(x);
            YS.add(y);
        }

        System.out.println(XS);
        System.out.println(YS);
//
//        var minX = 431027d;
//        var minY = 531076d;
//        var maxX = 431459d;
//        var maxY = 531508d;

        var minY = 430884.0;
        var minX = 531059.0;
        var maxY = 431414.0;
        var maxX = 531589.0;


//        List<Double> X = List.of(
//                2d, 2d, 0d, 3d, 3d, 5d, 5d, 6d, 7d, 7d, 7d, 9d, 9d, 9d, 9d, 6d, 6d, 5d
//        );
//
//        List<Double> Y = List.of(
//                18d, 20d, 42d, 41d, 39d, 38d, 36d, 34d, 32d, 30d, 29d, 28d, 26d, 24d, 22d, 21d, 20d, 18d
//        );

        for (int i = 0; i < XS.size(); i++) {
            dbService.savePrediction(YS.get(i), XS.get(i), minX, minY, maxX, maxY, EntitiesType.ROADS);
//            break;
        }



//        dbService.savePrediction(X, Y, minX, minY, maxX, maxY, EntitiesType.ROADS);
    }


    @Test
    void savePredictionBuildings() throws JSONException {
        var json = new JSONArray("[\n" +
                "    {\n" +
                "        \"X \": [\n" +
                "            156,\n" +
                "            152,\n" +
                "            154,\n" +
                "            158\n" +
                "        ],\n" +
                "        \"Y\": [\n" +
                "            252,\n" +
                "            253,\n" +
                "            253,\n" +
                "            252\n" +
                "        ]\n" +
                "    },\n" +
                "    {\n" +
                "        \"X \": [\n" +
                "            183,\n" +
                "            181,\n" +
                "            179,\n" +
                "            177,\n" +
                "            176,\n" +
                "            175,\n" +
                "            169,\n" +
                "            171,\n" +
                "            171,\n" +
                "            174,\n" +
                "            174,\n" +
                "            177,\n" +
                "            176,\n" +
                "            171,\n" +
                "            171,\n" +
                "            193,\n" +
                "            194,\n" +
                "            194,\n" +
                "            193,\n" +
                "            194,\n" +
                "            189,\n" +
                "            184\n" +
                "        ],\n" +
                "        \"Y\": [\n" +
                "            232,\n" +
                "            233,\n" +
                "            234,\n" +
                "            235,\n" +
                "            243,\n" +
                "            246,\n" +
                "            249,\n" +
                "            250,\n" +
                "            252,\n" +
                "            252,\n" +
                "            250,\n" +
                "            251,\n" +
                "            255,\n" +
                "            254,\n" +
                "            255,\n" +
                "            254,\n" +
                "            252,\n" +
                "            250,\n" +
                "            248,\n" +
                "            240,\n" +
                "            232,\n" +
                "            233\n" +
                "        ]\n" +
                "    },\n" +
                "    {\n" +
                "        \"X \": [\n" +
                "            129,\n" +
                "            123,\n" +
                "            117,\n" +
                "            106,\n" +
                "            101,\n" +
                "            95,\n" +
                "            90,\n" +
                "            88,\n" +
                "            87,\n" +
                "            86,\n" +
                "            85,\n" +
                "            85,\n" +
                "            85,\n" +
                "            83,\n" +
                "            73,\n" +
                "            64,\n" +
                "            62,\n" +
                "            61,\n" +
                "            62,\n" +
                "            61,\n" +
                "            60,\n" +
                "            59,\n" +
                "            60,\n" +
                "            86,\n" +
                "            88,\n" +
                "            87,\n" +
                "            88,\n" +
                "            90,\n" +
                "            97,\n" +
                "            98,\n" +
                "            99,\n" +
                "            100,\n" +
                "            101,\n" +
                "            102,\n" +
                "            147,\n" +
                "            147,\n" +
                "            148,\n" +
                "            148,\n" +
                "            147,\n" +
                "            145,\n" +
                "            146,\n" +
                "            145,\n" +
                "            144,\n" +
                "            143,\n" +
                "            142,\n" +
                "            141,\n" +
                "            141,\n" +
                "            139,\n" +
                "            137,\n" +
                "            134\n" +
                "        ],\n" +
                "        \"Y\": [\n" +
                "            205,\n" +
                "            206,\n" +
                "            207,\n" +
                "            208,\n" +
                "            209,\n" +
                "            210,\n" +
                "            211,\n" +
                "            212,\n" +
                "            214,\n" +
                "            219,\n" +
                "            222,\n" +
                "            224,\n" +
                "            226,\n" +
                "            230,\n" +
                "            231,\n" +
                "            232,\n" +
                "            231,\n" +
                "            238,\n" +
                "            241,\n" +
                "            243,\n" +
                "            248,\n" +
                "            251,\n" +
                "            255,\n" +
                "            252,\n" +
                "            249,\n" +
                "            245,\n" +
                "            243,\n" +
                "            242,\n" +
                "            240,\n" +
                "            242,\n" +
                "            244,\n" +
                "            249,\n" +
                "            253,\n" +
                "            255,\n" +
                "            255,\n" +
                "            253,\n" +
                "            252,\n" +
                "            250,\n" +
                "            249,\n" +
                "            246,\n" +
                "            243,\n" +
                "            239,\n" +
                "            237,\n" +
                "            233,\n" +
                "            225,\n" +
                "            217,\n" +
                "            215,\n" +
                "            211,\n" +
                "            206,\n" +
                "            205\n" +
                "        ]\n" +
                "    },\n" +
                "    {\n" +
                "        \"X \": [\n" +
                "            0,\n" +
                "            3,\n" +
                "            1\n" +
                "        ],\n" +
                "        \"Y\": [\n" +
                "            165,\n" +
                "            176,\n" +
                "            165\n" +
                "        ]\n" +
                "    },\n" +
                "    {\n" +
                "        \"X \": [\n" +
                "            109,\n" +
                "            108,\n" +
                "            110,\n" +
                "            111\n" +
                "        ],\n" +
                "        \"Y\": [\n" +
                "            144,\n" +
                "            146,\n" +
                "            146,\n" +
                "            146\n" +
                "        ]\n" +
                "    },\n" +
                "    {\n" +
                "        \"X \": [\n" +
                "            159,\n" +
                "            147,\n" +
                "            145,\n" +
                "            142,\n" +
                "            144,\n" +
                "            145,\n" +
                "            144,\n" +
                "            143,\n" +
                "            142,\n" +
                "            138,\n" +
                "            136,\n" +
                "            134,\n" +
                "            133,\n" +
                "            134,\n" +
                "            135,\n" +
                "            136,\n" +
                "            136,\n" +
                "            137,\n" +
                "            139,\n" +
                "            142,\n" +
                "            146,\n" +
                "            148,\n" +
                "            149,\n" +
                "            148,\n" +
                "            145,\n" +
                "            147,\n" +
                "            148,\n" +
                "            150,\n" +
                "            152,\n" +
                "            153,\n" +
                "            155,\n" +
                "            162,\n" +
                "            164,\n" +
                "            165,\n" +
                "            167,\n" +
                "            172,\n" +
                "            174,\n" +
                "            177,\n" +
                "            183,\n" +
                "            188,\n" +
                "            195,\n" +
                "            201,\n" +
                "            203,\n" +
                "            205,\n" +
                "            206,\n" +
                "            205,\n" +
                "            203,\n" +
                "            195,\n" +
                "            193,\n" +
                "            194,\n" +
                "            197,\n" +
                "            200,\n" +
                "            202,\n" +
                "            203,\n" +
                "            202,\n" +
                "            198,\n" +
                "            197,\n" +
                "            199,\n" +
                "            201,\n" +
                "            202,\n" +
                "            203,\n" +
                "            202,\n" +
                "            196,\n" +
                "            182,\n" +
                "            181,\n" +
                "            177,\n" +
                "            180,\n" +
                "            178,\n" +
                "            167,\n" +
                "            165,\n" +
                "            161,\n" +
                "            160\n" +
                "        ],\n" +
                "        \"Y\": [\n" +
                "            48,\n" +
                "            49,\n" +
                "            50,\n" +
                "            51,\n" +
                "            52,\n" +
                "            54,\n" +
                "            58,\n" +
                "            60,\n" +
                "            61,\n" +
                "            64,\n" +
                "            67,\n" +
                "            75,\n" +
                "            89,\n" +
                "            94,\n" +
                "            100,\n" +
                "            106,\n" +
                "            108,\n" +
                "            110,\n" +
                "            109,\n" +
                "            111,\n" +
                "            112,\n" +
                "            112,\n" +
                "            115,\n" +
                "            120,\n" +
                "            121,\n" +
                "            121,\n" +
                "            123,\n" +
                "            126,\n" +
                "            129,\n" +
                "            131,\n" +
                "            132,\n" +
                "            131,\n" +
                "            130,\n" +
                "            128,\n" +
                "            127,\n" +
                "            126,\n" +
                "            125,\n" +
                "            124,\n" +
                "            123,\n" +
                "            122,\n" +
                "            121,\n" +
                "            120,\n" +
                "            119,\n" +
                "            118,\n" +
                "            114,\n" +
                "            110,\n" +
                "            109,\n" +
                "            107,\n" +
                "            103,\n" +
                "            101,\n" +
                "            100,\n" +
                "            98,\n" +
                "            94,\n" +
                "            91,\n" +
                "            86,\n" +
                "            85,\n" +
                "            77,\n" +
                "            76,\n" +
                "            75,\n" +
                "            73,\n" +
                "            66,\n" +
                "            60,\n" +
                "            58,\n" +
                "            59,\n" +
                "            57,\n" +
                "            55,\n" +
                "            53,\n" +
                "            49,\n" +
                "            50,\n" +
                "            51,\n" +
                "            51,\n" +
                "            48\n" +
                "        ]\n" +
                "    },\n" +
                "    {\n" +
                "        \"X \": [\n" +
                "            0,\n" +
                "            1,\n" +
                "            2,\n" +
                "            3,\n" +
                "            5,\n" +
                "            7,\n" +
                "            6,\n" +
                "            3,\n" +
                "            8,\n" +
                "            8,\n" +
                "            9,\n" +
                "            8,\n" +
                "            7,\n" +
                "            5,\n" +
                "            4,\n" +
                "            5,\n" +
                "            4,\n" +
                "            3,\n" +
                "            2,\n" +
                "            1,\n" +
                "            0\n" +
                "        ],\n" +
                "        \"Y\": [\n" +
                "            32,\n" +
                "            84,\n" +
                "            90,\n" +
                "            89,\n" +
                "            85,\n" +
                "            88,\n" +
                "            91,\n" +
                "            92,\n" +
                "            94,\n" +
                "            92,\n" +
                "            80,\n" +
                "            76,\n" +
                "            68,\n" +
                "            67,\n" +
                "            64,\n" +
                "            59,\n" +
                "            53,\n" +
                "            48,\n" +
                "            40,\n" +
                "            36,\n" +
                "            33\n" +
                "        ]\n" +
                "    },\n" +
                "    {\n" +
                "        \"X \": [\n" +
                "            250,\n" +
                "            247,\n" +
                "            241,\n" +
                "            236,\n" +
                "            226,\n" +
                "            224,\n" +
                "            222,\n" +
                "            220,\n" +
                "            219,\n" +
                "            222,\n" +
                "            223,\n" +
                "            224,\n" +
                "            225,\n" +
                "            226,\n" +
                "            225,\n" +
                "            227,\n" +
                "            228,\n" +
                "            229,\n" +
                "            230,\n" +
                "            233,\n" +
                "            236,\n" +
                "            248,\n" +
                "            250,\n" +
                "            253,\n" +
                "            255\n" +
                "        ],\n" +
                "        \"Y\": [\n" +
                "            29,\n" +
                "            30,\n" +
                "            31,\n" +
                "            32,\n" +
                "            33,\n" +
                "            33,\n" +
                "            34,\n" +
                "            35,\n" +
                "            39,\n" +
                "            47,\n" +
                "            63,\n" +
                "            64,\n" +
                "            66,\n" +
                "            70,\n" +
                "            73,\n" +
                "            76,\n" +
                "            82,\n" +
                "            84,\n" +
                "            89,\n" +
                "            91,\n" +
                "            92,\n" +
                "            94,\n" +
                "            95,\n" +
                "            96,\n" +
                "            29\n" +
                "        ]\n" +
                "    },\n" +
                "    {\n" +
                "        \"X \": [\n" +
                "            66,\n" +
                "            57,\n" +
                "            50,\n" +
                "            43,\n" +
                "            39,\n" +
                "            38,\n" +
                "            37,\n" +
                "            38,\n" +
                "            37,\n" +
                "            30,\n" +
                "            28,\n" +
                "            30,\n" +
                "            29,\n" +
                "            28,\n" +
                "            27,\n" +
                "            25,\n" +
                "            26,\n" +
                "            27,\n" +
                "            28,\n" +
                "            28,\n" +
                "            29,\n" +
                "            29,\n" +
                "            29,\n" +
                "            30,\n" +
                "            31,\n" +
                "            32,\n" +
                "            33,\n" +
                "            34,\n" +
                "            35,\n" +
                "            36,\n" +
                "            37,\n" +
                "            38,\n" +
                "            39,\n" +
                "            40,\n" +
                "            41,\n" +
                "            42,\n" +
                "            43,\n" +
                "            44,\n" +
                "            47,\n" +
                "            48,\n" +
                "            50,\n" +
                "            51,\n" +
                "            52,\n" +
                "            54,\n" +
                "            55,\n" +
                "            57,\n" +
                "            63,\n" +
                "            67,\n" +
                "            69,\n" +
                "            72,\n" +
                "            74,\n" +
                "            78,\n" +
                "            84,\n" +
                "            85,\n" +
                "            87,\n" +
                "            88,\n" +
                "            88,\n" +
                "            89,\n" +
                "            88,\n" +
                "            87,\n" +
                "            86,\n" +
                "            85,\n" +
                "            82,\n" +
                "            77,\n" +
                "            76,\n" +
                "            75,\n" +
                "            74,\n" +
                "            73,\n" +
                "            72,\n" +
                "            71,\n" +
                "            70,\n" +
                "            69,\n" +
                "            68,\n" +
                "            67,\n" +
                "            66,\n" +
                "            65,\n" +
                "            64,\n" +
                "            66,\n" +
                "            68,\n" +
                "            78,\n" +
                "            80,\n" +
                "            82,\n" +
                "            83,\n" +
                "            84,\n" +
                "            89,\n" +
                "            90,\n" +
                "            89,\n" +
                "            88,\n" +
                "            81,\n" +
                "            80,\n" +
                "            79\n" +
                "        ],\n" +
                "        \"Y\": [\n" +
                "            18,\n" +
                "            19,\n" +
                "            20,\n" +
                "            21,\n" +
                "            26,\n" +
                "            29,\n" +
                "            31,\n" +
                "            33,\n" +
                "            40,\n" +
                "            43,\n" +
                "            44,\n" +
                "            47,\n" +
                "            50,\n" +
                "            52,\n" +
                "            55,\n" +
                "            58,\n" +
                "            62,\n" +
                "            66,\n" +
                "            76,\n" +
                "            78,\n" +
                "            83,\n" +
                "            85,\n" +
                "            87,\n" +
                "            102,\n" +
                "            106,\n" +
                "            111,\n" +
                "            116,\n" +
                "            122,\n" +
                "            125,\n" +
                "            129,\n" +
                "            135,\n" +
                "            148,\n" +
                "            151,\n" +
                "            157,\n" +
                "            161,\n" +
                "            165,\n" +
                "            168,\n" +
                "            170,\n" +
                "            175,\n" +
                "            177,\n" +
                "            181,\n" +
                "            184,\n" +
                "            186,\n" +
                "            187,\n" +
                "            188,\n" +
                "            191,\n" +
                "            190,\n" +
                "            189,\n" +
                "            190,\n" +
                "            189,\n" +
                "            188,\n" +
                "            187,\n" +
                "            186,\n" +
                "            181,\n" +
                "            177,\n" +
                "            171,\n" +
                "            169,\n" +
                "            163,\n" +
                "            161,\n" +
                "            159,\n" +
                "            147,\n" +
                "            143,\n" +
                "            141,\n" +
                "            140,\n" +
                "            138,\n" +
                "            135,\n" +
                "            131,\n" +
                "            124,\n" +
                "            116,\n" +
                "            108,\n" +
                "            102,\n" +
                "            96,\n" +
                "            89,\n" +
                "            83,\n" +
                "            75,\n" +
                "            70,\n" +
                "            61,\n" +
                "            58,\n" +
                "            55,\n" +
                "            52,\n" +
                "            51,\n" +
                "            50,\n" +
                "            48,\n" +
                "            45,\n" +
                "            41,\n" +
                "            39,\n" +
                "            35,\n" +
                "            27,\n" +
                "            22,\n" +
                "            20,\n" +
                "            18\n" +
                "        ]\n" +
                "    },\n" +
                "    {\n" +
                "        \"X \": [\n" +
                "            240,\n" +
                "            239,\n" +
                "            240,\n" +
                "            249,\n" +
                "            252,\n" +
                "            255\n" +
                "        ],\n" +
                "        \"Y\": [\n" +
                "            0,\n" +
                "            2,\n" +
                "            7,\n" +
                "            8,\n" +
                "            7,\n" +
                "            6\n" +
                "        ]\n" +
                "    }\n" +
                "]");
        List<List<Double>> XS = new ArrayList<>();
        List<List<Double>> YS = new ArrayList<>();
        for (int i = 0; i < json.length(); i++) {
            List<Double> x = new ArrayList<>();
            List<Double> y = new ArrayList<>();
            System.out.println(json.get(i));
            for (int j = 0; j < json.getJSONObject(i).getJSONArray("X ").length(); j++) {
                x.add(json.getJSONObject(i).getJSONArray("X ").getDouble(j));
                y.add(json.getJSONObject(i).getJSONArray("Y").getDouble(j));
            }
            XS.add(x);
            YS.add(y);
        }

        System.out.println(XS);
        System.out.println(YS);
//
//        var minX = 431027d;
//        var minY = 531076d;
//        var maxX = 431459d;
//        var maxY = 531508d;

        var minY = 430884.0;
        var minX = 531059.0;
        var maxY = 431414.0;
        var maxX = 531589.0;


        for (int i = 0; i < XS.size(); i++) {
            dbService.savePrediction(XS.get(i), YS.get(i), minX, minY, maxX, maxY, EntitiesType.HOUSE);
        }

    }


    @Test
    void saveBuildingTest() {

//        var minX = 431027d;
//        var minY = 531076d;
//        var maxX = 431459d;
//        var maxY = 531508d;

        var minY = 430884.0;
        var minX = 531059.0;
        var maxY = 431414.0;
        var maxX = 531589.0;


        List<Double> X = List.of(
                0d, 0d, 1000d, 1000d
        );

        List<Double> Y = List.of(
               0d, 1000d, 1000d, 0d
        );

        dbService.savePrediction(X, Y, minX, minY, maxX, maxY, EntitiesType.HOUSE);
    }

    @Test
    void test() {
        var minX = 430884.0;
        var minY = 531059.0;
        var maxX = 431414.0;
        var maxY = 531589.0;

        List<Double> X = List.of(
                0d, 0d, 1000d, 1000d
        );

        List<Double> Y = List.of(
                0d, 1000d, 1000d, 0d
        );

        var objects = aiService.getAiResults(1000, minX, minY, maxX, maxY, "BUILDING");
        for (var object : objects) {
            dbService.savePrediction(object.stream().map(AiResult::x).toList(), object.stream().map(AiResult::y).toList(),
                    minY, minX, maxY, maxX, EntitiesType.HOUSE);
        }
        dbService.savePrediction(X, Y, minY, minX, maxY, maxX, EntitiesType.HOUSE);
    }
}